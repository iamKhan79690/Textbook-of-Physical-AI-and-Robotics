"use strict";(globalThis.webpackChunkai_book=globalThis.webpackChunkai_book||[]).push([[203],{4628:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"Gazebo-Simulation/urdf-basics","title":"Lesson 2: URDF Robot Modeling Basics","description":"Learn URDF structure, create robot models with links and joints, and visualize in RViz","source":"@site/docs/03-Gazebo-Simulation/02-urdf-basics.md","sourceDirName":"03-Gazebo-Simulation","slug":"/Gazebo-Simulation/urdf-basics","permalink":"/docs/Gazebo-Simulation/urdf-basics","draft":false,"unlisted":false,"editUrl":"https://github.com/your-org/ai-book/tree/main/docs/03-Gazebo-Simulation/02-urdf-basics.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Lesson 2: URDF Robot Modeling Basics","description":"Learn URDF structure, create robot models with links and joints, and visualize in RViz"},"sidebar":"tutorialSidebar","previous":{"title":"Lesson 1: Introduction to Gazebo","permalink":"/docs/Gazebo-Simulation/intro-gazebo"},"next":{"title":"Lesson 3: Building Your First Robot","permalink":"/docs/Gazebo-Simulation/building-robot"}}');var s=i(4848),l=i(8453);const o={sidebar_position:3,title:"Lesson 2: URDF Robot Modeling Basics",description:"Learn URDF structure, create robot models with links and joints, and visualize in RViz"},t="Lesson 2: URDF Robot Modeling Basics (60 minutes)",a={},d=[{value:"Learning Outcomes",id:"learning-outcomes",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Core Concepts (7 Total)",id:"core-concepts-7-total",level:2},{value:"1. URDF (Unified Robot Description Format)",id:"1-urdf-unified-robot-description-format",level:3},{value:"2. Links (Rigid Bodies)",id:"2-links-rigid-bodies",level:3},{value:"3. Joints (Connections Between Links)",id:"3-joints-connections-between-links",level:3},{value:"4. Inertial Properties",id:"4-inertial-properties",level:3},{value:"5. Collision vs. Visual Geometry",id:"5-collision-vs-visual-geometry",level:3},{value:"6. Joint Types",id:"6-joint-types",level:3},{value:"7. Frame Naming Convention",id:"7-frame-naming-convention",level:3},{value:"URDF Anatomy: A Complete Simple Robot",id:"urdf-anatomy-a-complete-simple-robot",level:2},{value:"Layer 1: Manual Exercise - Visualize in RViz",id:"layer-1-manual-exercise---visualize-in-rviz",level:2},{value:"Exercise: Load and Inspect the 2-Link Robot",id:"exercise-load-and-inspect-the-2-link-robot",level:3},{value:"Code Example: Two-Link Robot URDF",id:"code-example-two-link-robot-urdf",level:2},{value:"Layer 2: AI Collaboration Notes",id:"layer-2-ai-collaboration-notes",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Error: &quot;RDF should have a root element named &#39;robot&#39;&quot;",id:"error-rdf-should-have-a-root-element-named-robot",level:3},{value:"Error: &quot;Link &#39;link1&#39; not found, child link does not exist&quot;",id:"error-link-link1-not-found-child-link-does-not-exist",level:3},{value:"Warning: &quot;Ignoring inertia for link &#39;base_link&#39;&quot;",id:"warning-ignoring-inertia-for-link-base_link",level:3},{value:"Problem: URDF loads in RViz but looks wrong (distorted geometry)",id:"problem-urdf-loads-in-rviz-but-looks-wrong-distorted-geometry",level:3},{value:"Problem: Joint appears in wrong position",id:"problem-joint-appears-in-wrong-position",level:3},{value:"Problem: TF tree shows cyclic dependencies",id:"problem-tf-tree-shows-cyclic-dependencies",level:3},{value:"Problem: RViz shows skeleton but no visual geometry",id:"problem-rviz-shows-skeleton-but-no-visual-geometry",level:3},{value:"Self-Assessment Checklist",id:"self-assessment-checklist",level:2},{value:"Key Takeaways",id:"key-takeaways",level:2},{value:"Next Lesson",id:"next-lesson",level:2}];function c(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"lesson-2-urdf-robot-modeling-basics-60-minutes",children:"Lesson 2: URDF Robot Modeling Basics (60 minutes)"})}),"\n",(0,s.jsx)(e.h2,{id:"learning-outcomes",children:"Learning Outcomes"}),"\n",(0,s.jsx)(e.p,{children:"By the end of this lesson, you will:"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Understand URDF XML structure and its role in robotics"}),"\n",(0,s.jsx)(e.li,{children:"Define robot links with inertial, visual, and collision properties"}),"\n",(0,s.jsx)(e.li,{children:"Create joints that connect links and define kinematic structure"}),"\n",(0,s.jsx)(e.li,{children:"Write a complete URDF for a multi-link robot"}),"\n",(0,s.jsx)(e.li,{children:"Visualize robot models in RViz and verify kinematic correctness"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Lesson 1 completed (understand Gazebo basics)"}),"\n",(0,s.jsx)(e.li,{children:"Comfortable with XML syntax"}),"\n",(0,s.jsxs)(e.li,{children:["RViz installed: ",(0,s.jsx)(e.code,{children:"sudo apt install ros-humble-rviz2"})]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"core-concepts-7-total",children:"Core Concepts (7 Total)"}),"\n",(0,s.jsx)(e.h3,{id:"1-urdf-unified-robot-description-format",children:"1. URDF (Unified Robot Description Format)"}),"\n",(0,s.jsx)(e.p,{children:"URDF is an XML-based standard that describes:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Robot structure"}),": Which parts (links) are connected by which joints"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Geometry"}),": Visual appearance and collision shapes"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Inertia"}),": Mass distribution for physics simulation"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Sensors"}),": Where cameras, LiDAR, IMU are mounted"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Actuators"}),": Joint controllers and power specifications"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"Example structure:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<robot name="my_robot">\r\n  <link name="base_link">\x3c!-- rigid body --\x3e</link>\r\n  <joint name="joint1" type="revolute">\x3c!-- connection --\x3e</joint>\r\n</robot>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"2-links-rigid-bodies",children:"2. Links (Rigid Bodies)"}),"\n",(0,s.jsx)(e.p,{children:"A link is a rigid body with three properties:"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Inertial"}),": Mass and moment of inertia"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<inertial>\r\n  <mass value="2.5"/>  \x3c!-- kg --\x3e\r\n  <inertia ixx="0.1" ixy="0" ixz="0"\r\n           iyy="0.1" iyz="0" izz="0.1"/>\r\n</inertial>\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Visual"}),": 3D shape for rendering"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<visual>\r\n  <geometry><box size="0.2 0.3 0.1"/></geometry>\r\n  <material name="base_color">\r\n    <color rgba="0.8 0.8 0.8 1.0"/>\r\n  </material>\r\n</visual>\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Collision"}),": 3D shape for physics (often simpler than visual)"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<collision>\r\n  <geometry><box size="0.2 0.3 0.1"/></geometry>\r\n</collision>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"3-joints-connections-between-links",children:"3. Joints (Connections Between Links)"}),"\n",(0,s.jsx)(e.p,{children:"A joint connects two links and defines allowed motion:"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Joint attributes"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Type"}),": revolute (rotation), prismatic (sliding), fixed (no motion), continuous (unlimited rotation)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Parent/Child"}),": Which links this joint connects"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Axis"}),": Direction of motion (e.g., Z for rotation around vertical axis)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Limits"}),": Min/max angle or range, max velocity, max effort"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Dynamics"}),": Damping and friction coefficients"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"Example (revolute joint\u2014rotation around Z-axis):"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<joint name="shoulder_joint" type="revolute">\r\n  <parent link="base_link"/>\r\n  <child link="link1"/>\r\n  <origin xyz="0 0 0.2" rpy="0 0 0"/>\r\n  <axis xyz="0 0 1"/>  \x3c!-- Rotate around Z --\x3e\r\n  <limit lower="-1.57" upper="1.57"\r\n         effort="10" velocity="1.0"/>\r\n  <dynamics damping="0.1" friction="0.2"/>\r\n</joint>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"4-inertial-properties",children:"4. Inertial Properties"}),"\n",(0,s.jsx)(e.p,{children:"The inertia matrix (3x3) describes mass distribution. For simple shapes:"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Box"})," (width\xd7height\xd7depth):"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"Ixx = (mass/12) \xd7 (height\xb2 + depth\xb2)\r\nIyy = (mass/12) \xd7 (width\xb2 + depth\xb2)\r\nIzz = (mass/12) \xd7 (width\xb2 + height\xb2)\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Cylinder"})," (radius r, length L along Z):"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"Ixx = Iyy = (mass/12) \xd7 (3\xd7r\xb2 + L\xb2)\r\nIzz = (mass/2) \xd7 r\xb2\n"})}),"\n",(0,s.jsx)(e.p,{children:"Most physics engines calculate inertia automatically if you don't specify it."}),"\n",(0,s.jsx)(e.h3,{id:"5-collision-vs-visual-geometry",children:"5. Collision vs. Visual Geometry"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Visual"}),": Defines appearance for humans viewing RViz. Can be complex 3D meshes"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Collision"}),": Defines shape for physics engine. Should be simple (box, cylinder, sphere)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Why separate?"}),": Complex visual meshes slow down collision detection; simple collision shapes are fast"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"Example (gripper with detailed visual, simple collision):"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<link name="gripper">\r\n  <visual>\r\n    <geometry>\r\n      <mesh filename="package://gripper_mesh.dae"/>  \x3c!-- Detailed 3D model --\x3e\r\n    </geometry>\r\n  </visual>\r\n  <collision>\r\n    <geometry>\r\n      <box size="0.05 0.05 0.1"/>  \x3c!-- Simple box for collision --\x3e\r\n    </geometry>\r\n  </collision>\r\n</link>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"6-joint-types",children:"6. Joint Types"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Type"}),(0,s.jsx)(e.th,{children:"Motion"}),(0,s.jsx)(e.th,{children:"Use Case"}),(0,s.jsx)(e.th,{children:"Limits"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"revolute"})}),(0,s.jsx)(e.td,{children:"Rotation around axis"}),(0,s.jsx)(e.td,{children:"Robot joints, wheels (with limits)"}),(0,s.jsx)(e.td,{children:"Lower/upper angle in radians"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"continuous"})}),(0,s.jsx)(e.td,{children:"Unlimited rotation"}),(0,s.jsx)(e.td,{children:"Wheels, spinners"}),(0,s.jsx)(e.td,{children:"No limits"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"prismatic"})}),(0,s.jsx)(e.td,{children:"Linear motion along axis"}),(0,s.jsx)(e.td,{children:"Sliding grippers, elevator"}),(0,s.jsx)(e.td,{children:"Lower/upper distance"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"fixed"})}),(0,s.jsx)(e.td,{children:"No motion"}),(0,s.jsx)(e.td,{children:"Attach sensor to link"}),(0,s.jsx)(e.td,{children:"No limits"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"floating"})}),(0,s.jsx)(e.td,{children:"Free 6-DOF motion"}),(0,s.jsx)(e.td,{children:"Base link in air"}),(0,s.jsx)(e.td,{children:"None (simulation only)"})]})]})]}),"\n",(0,s.jsx)(e.h3,{id:"7-frame-naming-convention",children:"7. Frame Naming Convention"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"base_link"}),": The primary body of the robot (usually immobile relative to ground)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"link1, link2, ..."}),": Additional bodies"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"tool_link"})," or ",(0,s.jsx)(e.strong,{children:"end_effector_link"}),": Final link (tool tip for manipulators)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"sensor_link"}),": Link where a sensor is attached"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"Good naming is crucial for debugging ROS 2 TF transforms!"}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"urdf-anatomy-a-complete-simple-robot",children:"URDF Anatomy: A Complete Simple Robot"}),"\n",(0,s.jsx)(e.p,{children:"Let's build a 2-link arm:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="simple_arm">\r\n\r\n  \x3c!-- Link 1: Base --\x3e\r\n  <link name="base_link">\r\n    <inertial>\r\n      <mass value="5.0"/>\r\n      <inertia ixx="0.5" ixy="0" ixz="0"\r\n               iyy="0.5" iyz="0" izz="0.5"/>\r\n    </inertial>\r\n    <visual>\r\n      <geometry><box size="0.2 0.2 0.1"/></geometry>\r\n      <material name="base_material">\r\n        <color rgba="0.7 0.7 0.7 1"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry><box size="0.2 0.2 0.1"/></geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  \x3c!-- Joint 1: Base to Link 1 --\x3e\r\n  <joint name="joint1" type="revolute">\r\n    <parent link="base_link"/>\r\n    <child link="link1"/>\r\n    <origin xyz="0 0 0.05" rpy="0 0 0"/>\r\n    <axis xyz="0 0 1"/>\r\n    <limit lower="0" upper="3.14" effort="5" velocity="1.0"/>\r\n    <dynamics damping="0.01" friction="0.05"/>\r\n  </joint>\r\n\r\n  \x3c!-- Link 2: Upper Arm --\x3e\r\n  <link name="link1">\r\n    <inertial>\r\n      <mass value="2.0"/>\r\n      <inertia ixx="0.2" ixy="0" ixz="0"\r\n               iyy="0.2" iyz="0" izz="0.1"/>\r\n    </inertial>\r\n    <visual>\r\n      <geometry><box size="0.05 0.05 0.3"/></geometry>\r\n      <material name="link_material">\r\n        <color rgba="0.9 0.9 0.9 1"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry><box size="0.05 0.05 0.3"/></geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  \x3c!-- Joint 2: Link 1 to Link 2 --\x3e\r\n  <joint name="joint2" type="revolute">\r\n    <parent link="link1"/>\r\n    <child link="link2"/>\r\n    <origin xyz="0 0 0.15" rpy="0 0 0"/>\r\n    <axis xyz="0 0 1"/>\r\n    <limit lower="-3.14" upper="3.14" effort="3" velocity="1.0"/>\r\n    <dynamics damping="0.01" friction="0.05"/>\r\n  </joint>\r\n\r\n  \x3c!-- Link 3: Lower Arm / Tool --\x3e\r\n  <link name="link2">\r\n    <inertial>\r\n      <mass value="1.0"/>\r\n      <inertia ixx="0.1" ixy="0" ixz="0"\r\n               iyy="0.1" iyz="0" izz="0.05"/>\r\n    </inertial>\r\n    <visual>\r\n      <geometry><box size="0.04 0.04 0.2"/></geometry>\r\n      <material name="link_material"/>\r\n    </visual>\r\n    <collision>\r\n      <geometry><box size="0.04 0.04 0.2"/></geometry>\r\n    </collision>\r\n  </link>\r\n\r\n</robot>\n'})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"layer-1-manual-exercise---visualize-in-rviz",children:"Layer 1: Manual Exercise - Visualize in RViz"}),"\n",(0,s.jsx)(e.h3,{id:"exercise-load-and-inspect-the-2-link-robot",children:"Exercise: Load and Inspect the 2-Link Robot"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Create the file"})," ",(0,s.jsx)(e.code,{children:"two-link-robot.urdf"})," with the content above"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Launch RViz"}),":"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"rviz2\n"})}),"\n",(0,s.jsxs)(e.ol,{start:"3",children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Load the URDF"})," in RViz:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["In RViz, set ",(0,s.jsx)(e.strong,{children:"Fixed Frame"})," to ",(0,s.jsx)(e.code,{children:"base_link"})]}),"\n",(0,s.jsxs)(e.li,{children:["Open ",(0,s.jsx)(e.strong,{children:"File"})," \u2192 ",(0,s.jsx)(e.strong,{children:"Open Config"})," (if you have a saved config)"]}),"\n",(0,s.jsxs)(e.li,{children:["Or manually add displays:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Add ",(0,s.jsx)(e.strong,{children:"RobotModel"})," display"]}),"\n",(0,s.jsxs)(e.li,{children:["In the ",(0,s.jsx)(e.strong,{children:"RobotModel"}),' settings, change description source to "File"']}),"\n",(0,s.jsx)(e.li,{children:"Select your URDF file"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Observe"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"RViz shows the robot as a kinematic tree"}),"\n",(0,s.jsx)(e.li,{children:"You should see: base_link (box), joint1 (connection), link1 (box), joint2, link2 (box)"}),"\n",(0,s.jsx)(e.li,{children:"Frames appear as XYZ axes (red=X, green=Y, blue=Z)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Inspect the transform tree"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["In RViz menu, select ",(0,s.jsx)(e.strong,{children:"View"})," \u2192 ",(0,s.jsx)(e.strong,{children:"Panels"})," \u2192 ",(0,s.jsx)(e.strong,{children:"TF Tree"})]}),"\n",(0,s.jsxs)(e.li,{children:["You should see: ",(0,s.jsx)(e.code,{children:"base_link"})," \u2192 ",(0,s.jsx)(e.code,{children:"link1"})," (via joint1) \u2192 ",(0,s.jsx)(e.code,{children:"link2"})," (via joint2)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"code-example-two-link-robot-urdf",children:"Code Example: Two-Link Robot URDF"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"File"}),": ",(0,s.jsx)(e.code,{children:"examples/chapter-2-gazebo/lesson-02/two-link-robot.urdf"})]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="two_link_robot">\r\n  \x3c!-- Simulation environment: Gazebo 11+ --\x3e\r\n\r\n  <link name="base_link">\r\n    <inertial>\r\n      <mass value="5.0"/>\r\n      <inertia ixx="0.5" ixy="0" ixz="0"\r\n               iyy="0.5" iyz="0" izz="0.5"/>\r\n    </inertial>\r\n    <visual>\r\n      <geometry><box size="0.2 0.2 0.1"/></geometry>\r\n      <material name="base_material">\r\n        <color rgba="0.7 0.7 0.7 1"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry><box size="0.2 0.2 0.1"/></geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  <joint name="joint1" type="revolute">\r\n    <parent link="base_link"/>\r\n    <child link="link1"/>\r\n    <origin xyz="0 0 0.05" rpy="0 0 0"/>\r\n    <axis xyz="0 0 1"/>\r\n    <limit lower="0" upper="3.14" effort="5" velocity="1.0"/>\r\n    <dynamics damping="0.01" friction="0.05"/>\r\n  </joint>\r\n\r\n  <link name="link1">\r\n    <inertial>\r\n      <mass value="2.0"/>\r\n      <inertia ixx="0.2" ixy="0" ixz="0"\r\n               iyy="0.2" iyz="0" izz="0.1"/>\r\n    </inertial>\r\n    <visual>\r\n      <geometry><box size="0.05 0.05 0.3"/></geometry>\r\n      <material name="link_material">\r\n        <color rgba="0.9 0.9 0.9 1"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry><box size="0.05 0.05 0.3"/></geometry>\r\n    </collision>\r\n  </link>\r\n\r\n</robot>\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Expected output"}),": RViz shows a 2-link kinematic chain with proper frame transforms."]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"layer-2-ai-collaboration-notes",children:"Layer 2: AI Collaboration Notes"}),"\n",(0,s.jsxs)(e.p,{children:["\ud83d\udcac ",(0,s.jsx)(e.strong,{children:"Prompt 1"}),': "Why do I need to define inertia? Can\'t I just give mass?"']}),"\n",(0,s.jsx)(e.p,{children:"Claude explains:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Mass alone isn't enough; inertia describes where the mass is distributed"}),"\n",(0,s.jsx)(e.li,{children:"Inertia affects rotational dynamics (how fast it spins, how it tumbles)"}),"\n",(0,s.jsx)(e.li,{children:"Without correct inertia, robot physics will be unrealistic"}),"\n",(0,s.jsx)(e.li,{children:"Gazebo can auto-calculate for simple shapes if you just provide mass"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["\ud83d\udcac ",(0,s.jsx)(e.strong,{children:"Prompt 2"}),': "What happens if I set joint limits to [0, 3.14] instead of [-3.14, 3.14]?"']}),"\n",(0,s.jsx)(e.p,{children:"Claude explains:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"First (0, 3.14): Joint can only rotate from 0 to 180 degrees (half rotation)"}),"\n",(0,s.jsx)(e.li,{children:"Second (-3.14, 3.14): Joint can rotate \xb1180 degrees (full rotation except 360\xb0)"}),"\n",(0,s.jsx)(e.li,{children:"Limits prevent unrealistic joint configurations"}),"\n",(0,s.jsx)(e.li,{children:"Violating limits damages real robots; simulation can handle it but physics becomes weird"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(e.h3,{id:"error-rdf-should-have-a-root-element-named-robot",children:"Error: \"RDF should have a root element named 'robot'\""}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Cause"}),": Invalid XML structure\r\n",(0,s.jsx)(e.strong,{children:"Solution"}),": Check that your first tag is ",(0,s.jsx)(e.code,{children:'<robot name="...">'})," and last is ",(0,s.jsx)(e.code,{children:"</robot>"})]}),"\n",(0,s.jsx)(e.h3,{id:"error-link-link1-not-found-child-link-does-not-exist",children:"Error: \"Link 'link1' not found, child link does not exist\""}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Cause"}),": Joint references non-existent link\r\n",(0,s.jsx)(e.strong,{children:"Solution"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Make sure link exists before joint references it --\x3e\r\n<link name="link1">...</link>  \x3c!-- Define first --\x3e\r\n<joint name="joint1">\r\n  <parent link="base_link"/>\r\n  <child link="link1"/>  \x3c!-- Then reference --\x3e\r\n</joint>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"warning-ignoring-inertia-for-link-base_link",children:"Warning: \"Ignoring inertia for link 'base_link'\""}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Cause"}),": Inertia values are zero or very small\r\n",(0,s.jsx)(e.strong,{children:"Solution"}),": Use realistic mass values (>0.1 kg) and non-zero inertia"]}),"\n",(0,s.jsx)(e.h3,{id:"problem-urdf-loads-in-rviz-but-looks-wrong-distorted-geometry",children:"Problem: URDF loads in RViz but looks wrong (distorted geometry)"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Cause"}),": Scale units or origin wrong\r\n",(0,s.jsx)(e.strong,{children:"Solution"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Check origin xyz values (should be in meters)"}),"\n",(0,s.jsx)(e.li,{children:"Verify box sizes are positive numbers"}),"\n",(0,s.jsx)(e.li,{children:"Remember: 0.2 = 20 cm, not 20 meters"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"problem-joint-appears-in-wrong-position",children:"Problem: Joint appears in wrong position"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Cause"}),": Joint origin xyz is incorrect\r\n",(0,s.jsx)(e.strong,{children:"Solution"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Joint origin moves from parent link frame to joint attachment point --\x3e\r\n<origin xyz="0 0 0.05"/>  \x3c!-- 5 cm above parent\'s origin --\x3e\n'})}),"\n",(0,s.jsx)(e.h3,{id:"problem-tf-tree-shows-cyclic-dependencies",children:"Problem: TF tree shows cyclic dependencies"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Cause"}),": Circular link/joint definitions (link1 \u2192 link2 \u2192 link1)\r\n",(0,s.jsx)(e.strong,{children:"Solution"}),": Verify each joint has exactly one parent and one child, with no cycles"]}),"\n",(0,s.jsx)(e.h3,{id:"problem-rviz-shows-skeleton-but-no-visual-geometry",children:"Problem: RViz shows skeleton but no visual geometry"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Cause"}),": Material colors undefined or collision shapes shown instead of visual\r\n",(0,s.jsx)(e.strong,{children:"Solution"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Define material once at robot level, then reference --\x3e\r\n<material name="my_material">\r\n  <color rgba="0.5 0.5 0.5 1.0"/>  \x3c!-- RGBA: red, green, blue, alpha --\x3e\r\n</material>\r\n\r\n\x3c!-- Use in link --\x3e\r\n<visual>\r\n  <geometry><box size="0.1 0.1 0.1"/></geometry>\r\n  <material name="my_material"/>\r\n</visual>\n'})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"self-assessment-checklist",children:"Self-Assessment Checklist"}),"\n",(0,s.jsxs)(e.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(e.li,{className:"task-list-item",children:[(0,s.jsx)(e.input,{type:"checkbox",disabled:!0})," ","I can explain what URDF is and why robots need it"]}),"\n",(0,s.jsxs)(e.li,{className:"task-list-item",children:[(0,s.jsx)(e.input,{type:"checkbox",disabled:!0})," ","I can write a complete ",(0,s.jsx)(e.code,{children:"<link>"})," definition with inertial, visual, and collision geometry"]}),"\n",(0,s.jsxs)(e.li,{className:"task-list-item",children:[(0,s.jsx)(e.input,{type:"checkbox",disabled:!0})," ","I can write a ",(0,s.jsx)(e.code,{children:"<joint>"})," definition and explain parent/child relationships"]}),"\n",(0,s.jsxs)(e.li,{className:"task-list-item",children:[(0,s.jsx)(e.input,{type:"checkbox",disabled:!0})," ","I've created a multi-link robot (3+ links) and loaded it in RViz"]}),"\n",(0,s.jsxs)(e.li,{className:"task-list-item",children:[(0,s.jsx)(e.input,{type:"checkbox",disabled:!0})," ","I can visualize the TF tree and verify the kinematic chain is correct"]}),"\n",(0,s.jsxs)(e.li,{className:"task-list-item",children:[(0,s.jsx)(e.input,{type:"checkbox",disabled:!0})," ","I understand the difference between visual and collision geometry"]}),"\n",(0,s.jsxs)(e.li,{className:"task-list-item",children:[(0,s.jsx)(e.input,{type:"checkbox",disabled:!0})," ","I can calculate or estimate inertia values for simple shapes"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"URDF is the language of robots"}),": Every ROS 2 robot is described in URDF"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Links are rigid bodies"}),": They have mass, shape, and inertia"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Joints are connections"}),": They define how links move relative to each other"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Frames matter"}),": Every link has a coordinate frame; these must form a tree with no cycles"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Visual \u2260 Collision"}),": Use complex meshes for visuals, simple shapes for collision"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"next-lesson",children:"Next Lesson"}),"\n",(0,s.jsx)(e.p,{children:"Ready to build a real robot? In Lesson 3, you'll create a differential drive mobile robot and spawn it in Gazebo."}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"./lesson-03-building-robot.md",children:"Go to Lesson 3: Building Your First Robot \u2192"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Lesson Status"}),": Complete with URDF anatomy breakdown, two-link example, RViz visualization guide, and troubleshooting."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Duration"}),": 60 minutes (including RViz exploration)"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Files Created"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.code,{children:"examples/chapter-2-gazebo/lesson-02/two-link-robot.urdf"})}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"examples/chapter-2-gazebo/lesson-02/multi-link-arm.urdf"})," (optional advanced example)"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Concepts Covered"}),": 7 (URDF format, links, joints, inertia, collision vs visual, joint types, frame naming)"]})]})}function h(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(c,{...n})}):c(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>o,x:()=>t});var r=i(6540);const s={},l=r.createContext(s);function o(n){const e=r.useContext(l);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:o(n.components),r.createElement(l.Provider,{value:e},n.children)}}}]);