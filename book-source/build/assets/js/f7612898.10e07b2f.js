"use strict";(globalThis.webpackChunkai_book=globalThis.webpackChunkai_book||[]).push([[692],{324:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"Autonomous-Navigation/autonomous-humanoid-navigation","title":"Lesson 6: Autonomous Humanoid Navigation","description":"Duration Unlimited | Priority Lesson 4, Optional advanced track","source":"@site/docs/04-Autonomous-Navigation/06-autonomous-humanoid-navigation.md","sourceDirName":"04-Autonomous-Navigation","slug":"/Autonomous-Navigation/autonomous-humanoid-navigation","permalink":"/docs/Autonomous-Navigation/autonomous-humanoid-navigation","draft":false,"unlisted":false,"editUrl":"https://github.com/your-org/ai-book/tree/main/docs/04-Autonomous-Navigation/06-autonomous-humanoid-navigation.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Lesson 5: Obstacle Avoidance and Dynamic Environments","permalink":"/docs/Autonomous-Navigation/obstacle-avoidance-and-dynamic-environments"},"next":{"title":"Lesson 7: Multi-Sensor Perception and Fusion","permalink":"/docs/Autonomous-Navigation/multi-sensor-perception-and-fusion"}}');var t=i(4848),o=i(8453);const s={},a="Lesson 6: Autonomous Humanoid Navigation",l={},c=[{value:"Learning Outcomes",id:"learning-outcomes",level:2},{value:"Layer 1: Foundation",id:"layer-1-foundation",level:2},{value:"6.1 Biped Locomotion Basics",id:"61-biped-locomotion-basics",level:3},{value:"6.2 Degrees of Freedom (DOF)",id:"62-degrees-of-freedom-dof",level:3},{value:"6.3 Stability Constraints",id:"63-stability-constraints",level:3},{value:"6.4 Gait Models",id:"64-gait-models",level:3},{value:"Layer 2: Collaboration (ROS 2 Integration)",id:"layer-2-collaboration-ros-2-integration",level:2},{value:"2.1 Humanoid Nav2 Configuration",id:"21-humanoid-nav2-configuration",level:3},{value:"2.2 Humanoid ROS 2 Topics",id:"22-humanoid-ros-2-topics",level:3},{value:"2.3 Footstep Planner",id:"23-footstep-planner",level:3},{value:"Layer 3: Intelligence (Tuning for Humanoid Constraints)",id:"layer-3-intelligence-tuning-for-humanoid-constraints",level:2},{value:"3.1 COG Tracking and Validation",id:"31-cog-tracking-and-validation",level:3},{value:"3.2 Balance Recovery Strategies",id:"32-balance-recovery-strategies",level:3},{value:"3.3 Navigation Tuning",id:"33-navigation-tuning",level:3},{value:"Layer 4: Advanced",id:"layer-4-advanced",level:2},{value:"4.1 Dynamic Walking (MPC Approach)",id:"41-dynamic-walking-mpc-approach",level:3},{value:"4.2 Terrain-Aware Humanoid Navigation",id:"42-terrain-aware-humanoid-navigation",level:3},{value:"Summary",id:"summary",level:2},{value:"Code Examples",id:"code-examples",level:2},{value:"Example 1: Validate Humanoid Balance",id:"example-1-validate-humanoid-balance",level:3},{value:"Example 2: Humanoid Launch File",id:"example-2-humanoid-launch-file",level:3},{value:"Practice Exercise",id:"practice-exercise",level:2},{value:"References",id:"references",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"lesson-6-autonomous-humanoid-navigation",children:"Lesson 6: Autonomous Humanoid Navigation"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Duration"}),": 3 hours | ",(0,t.jsx)(e.strong,{children:"Level"}),": Unlimited | ",(0,t.jsx)(e.strong,{children:"Priority"}),": P3 | ",(0,t.jsx)(e.strong,{children:"Prerequisite"}),": Lesson 4, Optional advanced track"]}),"\n",(0,t.jsx)(e.h2,{id:"learning-outcomes",children:"Learning Outcomes"}),"\n",(0,t.jsx)(e.p,{children:"By the end of this lesson, you will be able to:"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Explain"})," biped kinematics and unique navigation constraints"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Implement"})," center of gravity (COG) tracking for balance monitoring"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Configure"})," Nav2 for humanoid robots with footstep planning"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Design"})," trajectories that maintain stability constraints"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Validate"})," humanoid navigation with COG within support polygon"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"layer-1-foundation",children:"Layer 1: Foundation"}),"\n",(0,t.jsx)(e.h3,{id:"61-biped-locomotion-basics",children:"6.1 Biped Locomotion Basics"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Wheeled robots"})," can move in any direction \u2192 translation + rotation"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Humanoid robots"})," walk with legs \u2192 different constraints:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"Wheeled robot:\r\n\u251c\u2500 No balance requirement\r\n\u251c\u2500 Omnidirectional movement possible\r\n\u2514\u2500 Simple velocity commands (linear + angular)\r\n\r\nHumanoid robot:\r\n\u251c\u2500 Must maintain balance at all times\r\n\u251c\u2500 Center of gravity must stay within support polygon\r\n\u251c\u2500 Feet must be positioned for stable locomotion\r\n\u251c\u2500 Walking is cyclic (swing phase + stance phase)\r\n\u2514\u2500 Trajectory planning must respect these constraints\n"})}),"\n",(0,t.jsx)(e.h3,{id:"62-degrees-of-freedom-dof",children:"6.2 Degrees of Freedom (DOF)"}),"\n",(0,t.jsx)(e.p,{children:"Example: ROBOTIS OP3 humanoid"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"Upper body: 20 DOF\r\n\u251c\u2500 Neck: 3 DOF (pan, tilt, roll)\r\n\u251c\u2500 Arms: 14 DOF (7 each shoulder, elbow, wrist)\r\n\u2514\u2500 Waist: 3 DOF (roll, pitch, yaw)\r\n\r\nLower body: 12 DOF\r\n\u251c\u2500 Hips: 6 DOF (3 each leg)\r\n\u251c\u2500 Knees: 2 DOF (1 each leg)\r\n\u2514\u2500 Ankles: 4 DOF (2 each leg)\r\n\r\nTotal: 32 DOF (complex kinematic control!)\n"})}),"\n",(0,t.jsx)(e.h3,{id:"63-stability-constraints",children:"6.3 Stability Constraints"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Zero Moment Point (ZMP)"}),": Point where ground reaction force creates zero moment"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Stability condition"}),": ZMP must stay inside support polygon (where feet touch ground)"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"Foot positions:\r\n \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n \u2502 Left   \u2502\r\n \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n            \u2502 Right  \u2502\r\n            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n\r\nSupport polygon = convex hull of foot contact points\r\n\r\nCOG (Center of Gravity):\r\n        X  (must stay within polygon)\r\n       /|\\\r\n      / | \\\r\n     /  |  \\\r\n    \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500  (support polygon boundary)\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Stability margin"}),": Distance from COG to polygon boundary"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Margin > 0: Stable"}),"\n",(0,t.jsx)(e.li,{children:"Margin = 0: At edge (unstable)"}),"\n",(0,t.jsx)(e.li,{children:"Margin < 0: Falling!"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"64-gait-models",children:"6.4 Gait Models"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Static walking"}),": ZMP always inside support polygon (slow, stable)"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Dynamic walking"}),": Allows ZMP outside momentarily (fast, requires control)"]}),"\n",(0,t.jsxs)(e.p,{children:["Most humanoid robots use ",(0,t.jsx)(e.strong,{children:"static walking"})," for safety:"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Each leg placement is stable before moving next leg"}),"\n",(0,t.jsx)(e.li,{children:"Slower but more robust"}),"\n",(0,t.jsx)(e.li,{children:"Preferred for public interaction"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"layer-2-collaboration-ros-2-integration",children:"Layer 2: Collaboration (ROS 2 Integration)"}),"\n",(0,t.jsx)(e.h3,{id:"21-humanoid-nav2-configuration",children:"2.1 Humanoid Nav2 Configuration"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-yaml",children:'# nav2_humanoid_config.yaml\r\nnav2_bringup:\r\n  controller_server:\r\n    ros__parameters:\r\n      # Humanoid-specific parameters\r\n      use_footstep_planner: true\r\n      footstep_planner:\r\n        plugin: "humanoid_nav::FootstepPlanner"\r\n\r\n      plugins: ["FootstepController"]\r\n      FootstepController:\r\n        plugin: "humanoid_nav::FootstepController"\r\n\r\n        # Step constraints\r\n        max_step_length: 0.3  # meters\r\n        min_step_length: 0.1  # minimum viable step\r\n        step_height: 0.1  # how high to lift feet\r\n        swing_height: 0.15  # maximum foot height during swing\r\n\r\n        # Balance constraints\r\n        cog_buffer: 0.05  # safety margin (5cm)\r\n        max_trunk_tilt: 0.3  # radians (~17 degrees)\r\n\r\n        # Step planning\r\n        step_time: 1.0  # seconds per step\r\n        swing_time: 0.5  # time for swing phase\r\n        stance_time: 0.5  # time for stance phase\r\n\r\n      costmap:\r\n        ros__parameters:\r\n          # Same as differential drive, but humanoid-aware\r\n          inflation_radius: 0.4  # smaller than wheeled (narrower hips)\r\n          plugins: ["static_layer", "obstacle_layer", "inflation_layer"]\n'})}),"\n",(0,t.jsx)(e.h3,{id:"22-humanoid-ros-2-topics",children:"2.2 Humanoid ROS 2 Topics"}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"Topic"}),(0,t.jsx)(e.th,{children:"Type"}),(0,t.jsx)(e.th,{children:"Purpose"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"/footstep_plan"})}),(0,t.jsx)(e.td,{children:"nav_msgs/Path"}),(0,t.jsx)(e.td,{children:"Planned sequence of foot positions"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"/cog_trajectory"})}),(0,t.jsx)(e.td,{children:"geometry_msgs/PoseArray"}),(0,t.jsx)(e.td,{children:"Center of gravity path"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"/left_foot/pose"})}),(0,t.jsx)(e.td,{children:"geometry_msgs/PoseStamped"}),(0,t.jsx)(e.td,{children:"Current left foot position"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"/right_foot/pose"})}),(0,t.jsx)(e.td,{children:"geometry_msgs/PoseStamped"}),(0,t.jsx)(e.td,{children:"Current right foot position"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"/imu/data"})}),(0,t.jsx)(e.td,{children:"sensor_msgs/Imu"}),(0,t.jsx)(e.td,{children:"Balance feedback (accelerometer, gyroscope)"})]})]})]}),"\n",(0,t.jsx)(e.h3,{id:"23-footstep-planner",children:"2.3 Footstep Planner"}),"\n",(0,t.jsx)(e.p,{children:"Converts path into valid foot positions:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"# code_examples/footstep_planner_config.yaml\r\nFootstepPlanner:\r\n  step_width: 0.2  # meters\r\n  step_length: 0.25\r\n  step_height: 0.1\r\n\r\n  # Footstep grid discretization\r\n  angle_divisions: 8  # 8 possible orientations\r\n  step_height_divisions: 5\r\n\r\n  # Heuristic cost weighting\r\n  step_cost: 1.0\r\n  change_in_height_cost: 1.5\r\n  change_in_theta_cost: 0.5\r\n\r\n  # Collision checking\r\n  collision_check_accuracy: 0.02\r\n  max_height_of_collision: 0.5\n"})}),"\n",(0,t.jsx)(e.h2,{id:"layer-3-intelligence-tuning-for-humanoid-constraints",children:"Layer 3: Intelligence (Tuning for Humanoid Constraints)"}),"\n",(0,t.jsx)(e.h3,{id:"31-cog-tracking-and-validation",children:"3.1 COG Tracking and Validation"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"# code_examples/track_center_of_gravity.py\r\nimport rclpy\r\nimport numpy as np\r\nfrom geometry_msgs.msg import PoseStamped, PointStamped\r\n\r\nclass COGTracker(rclpy.Node):\r\n    def __init__(self):\r\n        super().__init__('cog_tracker')\r\n\r\n        # Subscribe to body state\r\n        self.create_subscription(\r\n            PoseStamped, '/base_link', self.pose_callback, 10)\r\n        self.create_subscription(\r\n            PointStamped, '/imu/base_link/accelerometer', self.accel_callback, 10)\r\n\r\n        # Subscribe to foot positions\r\n        self.create_subscription(\r\n            PoseStamped, '/left_foot/contact', self.left_foot_callback, 10)\r\n        self.create_subscription(\r\n            PoseStamped, '/right_foot/contact', self.right_foot_callback, 10)\r\n\r\n        self.cog_pub = self.create_publisher(\r\n            PointStamped, '/cog/position', 10)\r\n        self.stability_pub = self.create_publisher(\r\n            PointStamped, '/cog/stability_margin', 10)\r\n\r\n        self.base_pose = None\r\n        self.left_foot = None\r\n        self.right_foot = None\r\n\r\n    def compute_cog(self):\r\n        \"\"\"Compute center of gravity in world frame\"\"\"\r\n        if not (self.base_pose and self.left_foot and self.right_foot):\r\n            return None\r\n\r\n        # Simplified: COG approximately 55% of body height above base\r\n        cog_height = 0.55 * 1.7  # 1.7m is typical height\r\n        cog = np.array([\r\n            self.base_pose.position.x,\r\n            self.base_pose.position.y,\r\n            cog_height\r\n        ])\r\n\r\n        return cog\r\n\r\n    def compute_support_polygon(self):\r\n        \"\"\"Convex hull of foot contact points\"\"\"\r\n        if not (self.left_foot and self.right_foot):\r\n            return None\r\n\r\n        # Simplified: rectangle between feet\r\n        min_x = min(self.left_foot.position.x, self.right_foot.position.x)\r\n        max_x = max(self.left_foot.position.x, self.right_foot.position.x)\r\n        min_y = min(self.left_foot.position.y, self.right_foot.position.y)\r\n        max_y = max(self.left_foot.position.y, self.right_foot.position.y)\r\n\r\n        return {\r\n            'min_x': min_x, 'max_x': max_x,\r\n            'min_y': min_y, 'max_y': max_y\r\n        }\r\n\r\n    def check_stability(self, cog, polygon):\r\n        \"\"\"Check if COG is within support polygon\"\"\"\r\n        margin_x_min = cog[0] - polygon['min_x']\r\n        margin_x_max = polygon['max_x'] - cog[0]\r\n        margin_y_min = cog[1] - polygon['min_y']\r\n        margin_y_max = polygon['max_y'] - cog[1]\r\n\r\n        min_margin = min(margin_x_min, margin_x_max, margin_y_min, margin_y_max)\r\n\r\n        return min_margin > 0, min_margin  # stable, margin value\n"})}),"\n",(0,t.jsx)(e.h3,{id:"32-balance-recovery-strategies",children:"3.2 Balance Recovery Strategies"}),"\n",(0,t.jsx)(e.p,{children:"When robot is unstable:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"1. Center of mass adjustment:\r\n   \u2514\u2500 Shift weight toward stable side\r\n\r\n2. Ankle strategy:\r\n   \u2514\u2500 Rotate ankles to adjust foot pressure distribution\r\n\r\n3. Hip strategy:\r\n   \u2514\u2500 Move hips to reposition COG over feet\r\n\r\n4. Step adjustment:\r\n   \u2514\u2500 Take wider steps for more stability margin\n"})}),"\n",(0,t.jsx)(e.h3,{id:"33-navigation-tuning",children:"3.3 Navigation Tuning"}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"Parameter"}),(0,t.jsx)(e.th,{children:"Effect"}),(0,t.jsx)(e.th,{children:"Typical Value"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"max_step_length"})}),(0,t.jsx)(e.td,{children:"How far apart steps can be"}),(0,t.jsx)(e.td,{children:"0.2-0.4m"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"step_height"})}),(0,t.jsx)(e.td,{children:"How high to lift feet"}),(0,t.jsx)(e.td,{children:"0.05-0.15m"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"cog_buffer"})}),(0,t.jsx)(e.td,{children:"Stability margin"}),(0,t.jsx)(e.td,{children:"0.05-0.1m"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"max_trunk_tilt"})}),(0,t.jsx)(e.td,{children:"Upper body lean limit"}),(0,t.jsx)(e.td,{children:"0.2-0.4 rad"})]})]})]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Tuning strategy"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Start conservative (small steps, high stability buffer)"}),"\n",(0,t.jsxs)(e.li,{children:["If navigation too slow, increase ",(0,t.jsx)(e.code,{children:"max_step_length"})]}),"\n",(0,t.jsxs)(e.li,{children:["If unstable, increase ",(0,t.jsx)(e.code,{children:"cog_buffer"})," or decrease step size"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"layer-4-advanced",children:"Layer 4: Advanced"}),"\n",(0,t.jsx)(e.h3,{id:"41-dynamic-walking-mpc-approach",children:"4.1 Dynamic Walking (MPC Approach)"}),"\n",(0,t.jsx)(e.p,{children:"Model Predictive Control for dynamic walking:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"1. At each time step:\r\n   a. Measure current state (position, velocity, foot forces)\r\n   b. Predict future 3-5 seconds of motion\r\n   c. Optimize trajectory (minimize energy, maintain stability)\r\n   d. Execute first control input\r\n   e. Repeat\r\n\r\nAdvantage: Enables faster, more dynamic walking\r\nDisadvantage: Higher computational cost\n"})}),"\n",(0,t.jsx)(e.h3,{id:"42-terrain-aware-humanoid-navigation",children:"4.2 Terrain-Aware Humanoid Navigation"}),"\n",(0,t.jsx)(e.p,{children:"Extend humanoid navigation to handle slopes/stairs:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"# Classify terrain\r\nterrain_slope = compute_ground_slope()\r\n\r\nif terrain_slope < 0.1:  # flat\r\n    use_normal_walking_gait()\r\nelif terrain_slope < 0.3:  # slight slope\r\n    increase_step_frequency()\r\n    increase_cog_margin()\r\nelif terrain_slope < 0.6:  # steep slope\r\n    reduce_max_step_length()\r\n    reduce_walking_speed()\r\nelse:  # stairs or wall\r\n    use_climbing_gait()\n"})}),"\n",(0,t.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"Concept"}),(0,t.jsx)(e.th,{children:"Key Insight"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Biped locomotion"})}),(0,t.jsx)(e.td,{children:"Unique constraints vs. wheeled robots"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"COG and stability"})}),(0,t.jsx)(e.td,{children:"Must maintain COG within foot support polygon"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Static vs. dynamic walking"})}),(0,t.jsx)(e.td,{children:"Static safer, dynamic faster"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Footstep planning"})}),(0,t.jsx)(e.td,{children:"Convert paths into valid foot placements"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Balance recovery"})}),(0,t.jsx)(e.td,{children:"Multiple strategies for stability"})]})]})]}),"\n",(0,t.jsx)(e.h2,{id:"code-examples",children:"Code Examples"}),"\n",(0,t.jsx)(e.h3,{id:"example-1-validate-humanoid-balance",children:"Example 1: Validate Humanoid Balance"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"# code_examples/validate_humanoid_balance.py\r\nimport rclpy\r\nfrom geometry_msgs.msg import PointStamped, PoseStamped\r\nimport numpy as np\r\n\r\nclass HumanoidBalanceValidator(rclpy.Node):\r\n    def __init__(self):\r\n        super().__init__('balance_validator')\r\n\r\n        self.create_subscription(PointStamped, '/cog/position',\r\n                               self.cog_callback, 10)\r\n        self.create_subscription(PoseStamped, '/left_foot',\r\n                               self.left_foot_callback, 10)\r\n        self.create_subscription(PoseStamped, '/right_foot',\r\n                               self.right_foot_callback, 10)\r\n\r\n        self.stability_count = 0\r\n        self.unstability_count = 0\r\n\r\n    def check_balance(self):\r\n        \"\"\"Check if COG is within support polygon\"\"\"\r\n        cog = self.cog\r\n        left = self.left_foot.position\r\n        right = self.right_foot.position\r\n\r\n        # Simple check: COG between feet\r\n        stable = (min(left.x, right.x) <= cog.x <= max(left.x, right.x) and\r\n                 min(left.y, right.y) <= cog.y <= max(left.y, right.y))\r\n\r\n        if stable:\r\n            self.stability_count += 1\r\n        else:\r\n            self.unstability_count += 1\r\n            self.get_logger().warn('COG OUTSIDE support polygon - falling risk!')\r\n\r\n        if (self.stability_count + self.unstability_count) % 10 == 0:\r\n            success_rate = self.stability_count / (self.stability_count +\r\n                                                 self.unstability_count) * 100\r\n            self.get_logger().info(f'Balance success rate: {success_rate:.1f}%')\n"})}),"\n",(0,t.jsx)(e.h3,{id:"example-2-humanoid-launch-file",children:"Example 2: Humanoid Launch File"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"# code_examples/nav2_humanoid_launch.py\r\nimport launch\r\nfrom launch_ros.actions import Node\r\nimport os\r\n\r\ndef generate_launch_description():\r\n    ld = launch.LaunchDescription()\r\n\r\n    # Gazebo simulator (humanoid model)\r\n    ld.add_action(\r\n        Node(\r\n            package='gazebo_ros',\r\n            executable='gazebo',\r\n            arguments=['humanoid_test_world.world'],\r\n        )\r\n    )\r\n\r\n    # Humanoid controller (convert Nav2 paths to footsteps)\r\n    ld.add_action(\r\n        Node(\r\n            package='humanoid_nav',\r\n            executable='footstep_controller',\r\n            parameters=[{\r\n                'max_step_length': 0.3,\r\n                'step_height': 0.1,\r\n                'cog_buffer': 0.05,\r\n            }],\r\n        )\r\n    )\r\n\r\n    # Nav2 navigation\r\n    ld.add_action(\r\n        Node(\r\n            package='nav2_bringup',\r\n            executable='bringup_launch.py',\r\n            arguments=['--use_sim_time', 'true'],\r\n        )\r\n    )\r\n\r\n    return ld\n"})}),"\n",(0,t.jsx)(e.h2,{id:"practice-exercise",children:"Practice Exercise"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Objective"}),": Navigate a humanoid robot through a doorway while maintaining balance"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Steps"}),":"]}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Launch Gazebo with humanoid model in test environment"}),"\n",(0,t.jsx)(e.li,{children:"Start Nav2 with humanoid-specific configuration"}),"\n",(0,t.jsx)(e.li,{children:"Set navigation goal through narrow doorway"}),"\n",(0,t.jsxs)(e.li,{children:["Monitor:","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"COG position relative to support polygon"}),"\n",(0,t.jsx)(e.li,{children:"Balance stability margin"}),"\n",(0,t.jsx)(e.li,{children:"Footstep sequence validity"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.li,{children:"Verify successful navigation without falling"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Success criteria"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Humanoid walks through doorway"}),"\n",(0,t.jsx)(e.li,{children:"COG stays within support polygon"}),"\n",(0,t.jsx)(e.li,{children:"No falling or instability warnings"}),"\n",(0,t.jsx)(e.li,{children:"Navigation completes within 2 minutes"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"references",children:"References"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Humanoid Robotics Survey"}),": ",(0,t.jsx)(e.a,{href:"https://arxiv.org/abs/1707.01495",children:"Humanoid Robotics Review"})]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"ZMP and Balance"}),": ",(0,t.jsx)(e.a,{href:"https://www.researchgate.net/publication/228815738",children:"Zero Moment Point - Theory and Practice"})]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Footstep Planning"}),": ",(0,t.jsx)(e.a,{href:"https://ieeexplore.ieee.org/document/4651186",children:"Footstep Planning for Humanoid Navigation"})]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsx)(e.p,{children:"You now understand humanoid-specific navigation constraints. Choose your path:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsxs)(e.strong,{children:["\u2192 ",(0,t.jsx)(e.a,{href:"/docs/Autonomous-Navigation/capstone-mission",children:"Lesson 8: Capstone"})]})," (Integrate with SLAM + Nav2)"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsxs)(e.strong,{children:["\u2192 ",(0,t.jsx)(e.a,{href:"/docs/Autonomous-Navigation/multi-sensor-perception-and-fusion",children:"Lesson 7: Sensor Fusion"})]})," (Robust perception)"]}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Lesson 6 Summary"}),": Humanoid navigation adds balance constraints not present in wheeled robots. Understanding biped kinematics, stability constraints, and footstep planning enables you to safely navigate humanoid robots in human environments."]})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>s,x:()=>a});var r=i(6540);const t={},o=r.createContext(t);function s(n){const e=r.useContext(o);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:s(n.components),r.createElement(o.Provider,{value:e},n.children)}}}]);